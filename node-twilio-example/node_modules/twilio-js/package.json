{
  "name": "twilio-js",
  "description": "The Twilio API and TwiML for node.js",
  "version": "0.1.1",
  "author": {
    "name": "Stevie Graham",
    "email": "sjtgraham@mac.com",
    "url": "https://github.com/stevegraham"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/stevegraham/twilio-js.git"
  },
  "keywords": [
    "twilio",
    "twiml"
  ],
  "main": "./lib/twilio.js",
  "scripts": {
    "test": "node-jasmine spec/"
  },
  "engines": {
    "node": ">= 0.6.0"
  },
  "dependencies": {
    "request": "2.10.x",
    "jwt-simple": "0.1.x"
  },
  "devDependencies": {
    "nock": "0.13.3",
    "jasmine-node": "1.0.x"
  },
  "homepage": "http://github.com/stevegraham/twilio-js",
  "readme": "twilio-js\n=========\n\nThe Twilio API and TwiML for node.js\n\n## Installation\n\nThe library will be availble on npm when released\n\n<pre>npm install slow_down_fast_lane_its_not_ready_yet</pre>\n\nPlease use the Github issue tracker to report any issues or bugs you uncover.\n\n## Usage\n\nRequire the library in your node application as\n\n```javascript\nvar Twilio = require('twilio-js');\n```\n\n## Configuration\n\nBefore invoking any functions that interace with the API, you must set your account SID and auth token. This is done with properties on the `Twilio` object\n\n```javascript\nTwilio.AccountSid = \"ACxxxxxxxxxxxxxxxxxxxxxxx\";\nTwilio.AuthToken  = \"xxxxxxxxxxxxxxxxxxxxxxxxx\";\n```\n\nTODO: Raise specific error if API related functions called before account credentials configure?\n\n# Getting started\n\n## Summary\n\nTwilio resources are represented as JavaScript object, e.g. `Twilio.SMS` and operations on those resources are performed via functions that are properties of those objects, e.g. `Twilio.SMS.create`\n\nFunctions representing list resources have three functions: .all, .find, create, for finding resource instances that match certain conditions, a specific resource instance identified by a SID, and for creating a new instance resource if the list resource supports that.\n\nResources that can be created via the API, using the HTTP POST verb can be done so in the library using the `.create` function, e.g.\n\n```javascript\n// Method signature Twilio.Call.find(options, callbackFunction, options);\n// example options, e.g. using a Twilio connect account : { accountSid: SIDneyPoiter, connect: true }\n// The options hash is a mandatory argument so it is the first argument.\nTwilio.Call.create({to: \"+12125551234\", from: \"+16465551234\", url: \"http://example.com/voice\"}, function(err,res) {\n  console.log('HOLY MOLY! PHONES ARE RINGING');\n})\n```\n\nWhen a response is received from the API, the supplied callback function is invoked with an object representation of the resource passed in as the `res` argument as illustrated here. In the case of an error level response, an `Error` object will passed in as the `err` argument.\n\nResources that can be removed via the API, using the HTTP DELETE verb can be done so in the library using the `destroy` function on the resource object representation, e.g.\n\n```javascript\n// Delete all log entries\nTwilio.Notification.all(function(err, res) {\n  res.forEach(function(obj,i,arr) { obj.destroy(function(err, res) {\n      console.log('notification', res.sid, 'destroyed')\n    })\n  })\n})\n```\n\nThe object representations yielded to the callback functions have properties that correspond to those of the resource. The Twilio API documentation itself is the canonical reference for which resources have what properties, and which of those can be updated by the API. Please refer to the Twilio REST API documentation for thos information.\n\n## Accessing resource instances\n\nResource instances can be accessed ad hoc passsing the resource sid to the `.find` class method on the resource class, e.g.\n\n```javascript\n// Method signature Twilio.Call.find(resourceSid, callbackFunction, options);\n// example options, e.g. using a Twilio connect account : { accountSid: SIDneyPoiter, connect: true }\n// The options hash is an optional argument and may not always be used so it is the last argument.\nTwilio.Call.find('CAe1644a7eed5088b159577c5802d8be38', function(err, res) {\n  console.log('notification: --------');\n  for(var prop in res) {\n    if(res.hasOwnProperty(prop)) console.log(prop, ':', res[prop]);\n  }\n});\n```\n\nThis will yield an object with propertes corresponding to the attributes of the resource. The properties are camel-cased.\n\n## Querying list resources\n\nList resources can be accessed ad hoc by calling the `.all` class method on the resource class, e.g.\n\n```javascript\n// Method signature Twilio.Call.all(callbackFunction, options);\n// example options, e.g. using a Twilio connect account : { accountSid: SIDneyPoiter, connect: true }\n// The options hash is an optional argument and may not always be used so it is the last argument.\nTwilio.Call.all(function(err, res) {\n  console.log('call: --------');\n  for(var prop in res) {\n    if(res.hasOwnProperty(prop)) console.log(prop, ':', res[prop]);\n  }\n});\n\n```\n\nThis will return a collection of objects, each a representation of the corresponding resource.\n\n.all can also optionally take an options object as the last argument e.g., to find all calls from +12125551234 on the Twilio Connect subaccount 'SIDneyPoiter'\n```javascript\nTwilio.Call.all(function(err, res) {\n  console.log('call: --------');\n  for(var prop in res) {\n    if(res.hasOwnProperty(prop)) console.log(prop, ':', res[prop]);\n  }\n}, { accountSid: 'SIDneyPoiter', connect: true, from: '+12125551234' );\n\n```\nThe options hash is an optional argument and may not always be used so it is the last argument.\n\n### Pagination\n\nThe Twilio API paginates API responses and by default it will return 30 objects in one response, this can be overridden to return up to a maximum of 1000 per response using the `:page_size` option, If more than 1000 resources instances exist, the `:page` option is available, e.g.\n\n```javascript\nTwilio.Call.all(function(err, res) {\n  console.log('call: --------');\n  for(var prop in res) {\n    if(res.hasOwnProperty(prop)) console.log(prop, ':', res[prop]);\n  }\n}, { pageSize: 1000, page: 7 })\n```\n\n## Updating resource attributes\n\nCertain resources have attributes that can be updated with the REST API. Instances of those resources can be updated by changing the properties on the response object and calling the save function.\n\n```javascript\nTwilio.Call.all({ status: 'in-progress' }, function(err, res) {\n  var call = res[0]\n  call.url = 'http://example.com/in_ur_apiz_hijackin_ur_callz.xml'\n  call.save(function(err, res) {\n    console.log('saved!');\n  })\n})\n```\n# Twilio Client\n\nTo generate capability tokens for use with Twilio Client you can use `Twilio::CapabilityToken.create`\n\n```javascript\nTwilio.CapabilityToken.create({\n  allowIncoming: 'unique_identifier_for_this_user',\n  allowOutgoing: 'your_application_sid'\n})\n```\n\nYou can create capability tokens on arbitrary accounts, e.g. subaccounts. Just pass in those details:\n\n```javascript\nTwilio.CapabilityToken.create({\n  accountSid:    'AC00000000000000000000000',\n  authToken:     'XXXXXXXXXXXXXXXXXXXXXXXXX',\n  allowIncoming: 'unique_identifier_for_this_user',\n  allowOutgoing: 'your_application_sid'\n})\n```\n\nYou can also pass arbitrary parameters into your outgoing privilege, these are sent from Twilio as HTTP request params when it hits your app endpoint for TwiML.\n\n```javascript\nTwilio.CapabilityToken.create({allow_outgoing: ['your_application_sid', { foo: 'bar' }]}]\n```\n\nBy default tokens expire exactly one hour from the time they are generated. You can choose your own token ttl like so:\n\n```javascript\nTwilio.CapabilityToken.create({\n  allowIncoming: 'unique_identifier_for_this_user',\n  allowOutgoing: 'your_application_sid',\n  expires:        // TODO: how to denote time. ISO or epoch?\n})\n```\n\n# Twilio Connect\n\nWith Twilio Connect you can attribute Twilio usage to accounts of customers that have authorised you to perform API calls on there behalf. twilio-rb supports Twilio Connect. To make an API call using a Twilio Connect account, two extra parameters are required, `account_sid` and `connect`\n\n```javascript\nTwilio::SMS.create({\n  to: '+12125551234', from: '+6165550000',\n  body: 'this will not be billed to the application developer',\n  accountSid: CONNECT_ACCOUNT_SID, connect: true\n})\n```\n\n# Subaccounts\n\nThe Twilio REST API supports subaccounts that is discrete accounts owned by a master account. twilio-js supports this too.\n\n## Subaccount creation\n\nYou can create new subaccounts by using `Twilio.Account.create()`\n\n## Performing actions on resources belonging to subaccounts\n\nThere are three ways to perform an operation on an account other than the master account: you can pass in the subaccount sid\n\n```javascript\nTwilio::SMS.create({\n  to: '+12125551234', from: '+6165550000',\n  body:  'This will be billed to a subaccount, sucka!',\n  accountSid: 'ACXXXXXXXXXXXXXXXXXXXXXXXX'\n})\n```\n\n# Building TwiML documents\n\nA TwiML document is an XML document.\n\nThe following js code:\n\n```javascript\nTwilio.TwiML.build(function(res) {\n    res.say('Hey man! Listen to this!', { voice: 'man' });\n    res.play('http://foo.com/cowbell.mp3');\n    res.say('What did you think of that?', { voice: 'man' });\n\n    res.record({\n      action: \"http://foo.com/handleRecording.php\",\n      method: \"GET\", maxLength: \"20\", finishOnKey: \"*\"\n    })\n\n    res.gather(function(res) { res.say('Now hit some buttons!') }, { action: \"/process_gather.php\", method: \"GET\" })\n    res.say('Awesome! Thanks!', { voice: 'man', language: 'en-gb' });\n    res.hangup()\n})\n```\n\nTherefore emits the following TwiML document:\n\n<pre><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n&lt;Response&gt;\n  &lt;Say voice=\"man\"&gt;Hey man! Listen to this!&lt;/Say&gt;\n  &lt;Play&gt;http://foo.com/cowbell.mp3&lt;/Play&gt;\n  &lt;Say voice=\"man\"&gt;What did you think of that?!&lt;/Say&gt;\n  &lt;Record maxLength=\"20\" method=\"GET\" action=\"http://foo.com/handleRecording.php\" finishOnKey=\"*\"/&gt;\n  &lt;Gather method=\"GET\" action=\"/process_gather.php\"&gt;\n    &lt;Say&gt;Now hit some buttons!&lt;/Say&gt;\n  &lt;/Gather&gt;\n  &lt;Say voice=\"man\"&gt;Awesome! Thanks!&lt;/Say&gt;\n  &lt;Hangup/&gt;\n&lt;/Response&gt;\n</pre>\n\n&copy; 2012 Stevie Graham\n\nThe author asserts the moral right to be identified as the author of this work.\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/stevegraham/twilio-js/issues"
  },
  "_id": "twilio-js@0.1.1",
  "_from": "twilio-js@latest"
}
